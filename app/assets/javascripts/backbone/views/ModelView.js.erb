App.Views.LocationView = Backbone.View.extend({
  tagName: 'div',
  className: 'location',
  events:{
    'click .showInventory': 'grabListInventory'
  },
  initialize:function(){
    console.log("One VIew Created");
    this.locationTemplate = HandlebarsTemplates['location'];
    this.newBranchTemplate = HandlebarsTemplates['newBranch'];
    this.newBranch();
  },
  render: function(){
    this.$el.html(this.locationTemplate(this.model.toJSON()));
  },
  grabListInventory:function(){
    $('#inventory-list').empty();
    var id = this.model.attributes.id;
    // debugger;
    // App.Routers.InventoriesRouter.navigate('inventories/branch/ ' + this.model.attributes.id);
    // App.InventoriesCollection.fetch({
    //   data: {branch_id: 1},
    //   reset: true
    // });
    App.InventoriesCollection = new App.Collections.InventoriesCollection();
    App.InventoriesCollection.fetchInventory();
  },
  renderListInventory:function(collection){
    this.inventoryListView = new App.Views.InventoryListView({collection: collection});
    this.inventoryListView.render();
  },
  newBranch:function(){
    console.log("new Branch template ")
    var newBranch = this.$el.prepend(this.newBranchTemplate(this.model.toJSON()));
    $("#new-branch").append(newBranch);
  }

});
